<!doctype html>
<html>
<head>
<title>Selectize Test</title>
<link href="../css/selectize.default.css" rel="stylesheet" />
<script src="../scripts/jquery/jquery.js" type="text/javascript"></script>
<script src="../scripts/jquery/jquery-ui.js" type="text/javascript"></script>
<script src="../scripts/selectize.js"></script>
<script src="../scripts/scripts.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    var selectizeArray = $("#user").selectize({
      valueField: "email",
      labelField: "name",
      searchField: ["name", "email"],
      plugins: ["drag_drop", "remove_button", "set_all"],
      render: {
        item: function(item, escape) {
          return "<div>" + (item.name ? "<span class=\"name\">" + escape(item.name) + "</span>" : "") + (item.email ? "<span class=\"email\"> &lt;" + escape(item.email) + "&gt;</span>" : "") + "</div>";
        },
        option: function(item, escape) {
          var label = item.name || item.email;
          var caption = item.name ? item.email : null;
          return "<div><span class=\"label\">" + escape(label) + "</span>" + (caption ? "<span class=\"caption\"> &lt;" + escape(caption) + "&gt;</span>" : "") + "</div>";
        }
      }/*,
      onChange: function(value) {
        // accessing items on selectize submits form so cannot use
        if (Object.keys($("#user").selectize()[0].selectize.options).length == $("#user").selectize()[0].selectize.items.length) { // if not all selected
          //$("#selectAll").text("De-select all");
            $("#selectAll").hide();
            $("#deselectAll").show();
        } else {
          //$("#selectAll").text("Select all");
        	//$("#deselectAll").hide();
        	$("#selectAll").show();
        }
      }*/
    });
    /*$("#selectAll").click(function(event) {
      var selectizes = $("#user").selectize(); // Selectize plugin initialization
      var selectize = selectizes[0].selectize; // Get selectize instance
      selectize.setValue(Object.keys(selectize.options)); // Set all selectize options using setValue() method
      event.preventDefault();
      event.stopPropagation();
      return false;
    });
    $("#deselectAll").click(function(event) {
        var selectizes = $("#user").selectize(); // Selectize plugin initialization
        var selectize = selectizes[0].selectize; // Get selectize instance
        selectize.clear(false);
        //selectize.setValue(-1, false);
        event.preventDefault();
        event.stopPropagation();
        return false;
      });*/
  });
</script>
</head>
<body>
<form method="POST">
<div style="width: 200px;">
<!-- Ctrl + shift + a to select all
Ctrl + shift + d to de-select all
<a href="" id="selectAll">Select all</a>
<a href="" id="deselectAll">De-select all</a> -->
 <select name="user" multiple id="user">
  <option value="a@b.c">User 1</option>
  <option value="d@e.f">User 2</option>
  <option value="g@h.i">User 3</option>
  <option value="j@k.l">User 4</option>
  <option value="m@n.o">User 5</option>
 </select>
 <input type="submit" />
</div>
</form>
</body>
</html>